const lvl1 = {
  "Greetings and Introductions": {
    "Hello, how are you?": "Hola, Â¿cÃ³mo estÃ¡s?",
    "My name is [your name].": "Me llamo [tu nombre].",
    "Nice to meet you.": "Mucho gusto.",
    "Good morning.": "Buenos dÃ­as.",
    "Good afternoon.": "Buenas tardes.",
    "Good evening/night.": "Buenas noches."
  },
  "Basic Questions": {
    "How are you?": "Â¿QuÃ© tal?",
    "What is your name?": "Â¿CÃ³mo te llamas?",
    "Where are you from?": "Â¿De dÃ³nde eres?",
    "How old are you?": "Â¿CuÃ¡ntos aÃ±os tienes?",
    "What time is it?": "Â¿QuÃ© hora es?",
    "Can you help me?": "Â¿Puedes ayudarme?",
    "Where is the bathroom?": "Â¿DÃ³nde estÃ¡ el baÃ±o?",
    "How much does this cost?": "Â¿CuÃ¡nto cuesta esto?",
    "Do you speak English?": "Â¿Hablas inglÃ©s?",
    "What is this?": "Â¿QuÃ© es esto?",
    "Can you repeat that?": "Â¿Puedes repetir eso?"
  },
  "Common Phrases": {
    "Please.": "Por favor.",
    "Thank you.": "Gracias.",
    "You're welcome.": "De nada.",
    "Excuse me.": "PerdÃ³n.",
    "I'm sorry.": "Lo siento.",
    "Yes.": "SÃ­.",
    "No.": "No.",
    "I don't understand.": "No entiendo.",
    "I don't know.": "No sÃ©.",
    "I like it.": "Me gusta.",
    "I love you.": "Te quiero.",
    "I am hungry.": "Tengo hambre.",
    "I am thirsty.": "Tengo sed.",
    "I am tired.": "Estoy cansado/cansada.",
    "I need help.": "Necesito ayuda."
  },
  "Directions and Places": {
    "Where is the hotel?": "Â¿DÃ³nde estÃ¡ el hotel?",
    "Turn right.": "Gira a la derecha.",
    "Turn left.": "Gira a la izquierda.",
    "Go straight ahead.": "Sigue recto.",
    "Is it far?": "Â¿EstÃ¡ lejos?",
    "Is it near?": "Â¿EstÃ¡ cerca?",
    "I am lost.": "Estoy perdido/perdida."
  },
  "Shopping and Money": {
    "How much is it?": "Â¿CuÃ¡nto cuesta?",
    "I want to buy this.": "Quiero comprar esto.",
    "Do you accept credit cards?": "Â¿Aceptan tarjetas de crÃ©dito?",
    "I need a receipt.": "Necesito un recibo.",
    "Can you give me a discount?": "Â¿Me puede dar un descuento?",
    "Where is the market?": "Â¿DÃ³nde estÃ¡ el mercado?",
    "What time does it open?": "Â¿A quÃ© hora abre?",
    "What time does it close?": "Â¿A quÃ© hora cierra?"
  },
  "Eating and Drinking": {
    "I would like a table for two.": "Quisiera una mesa para dos.",
    "Can I see the menu?": "Â¿Puedo ver el menÃº?",
    "What do you recommend?": "Â¿QuÃ© me recomienda?",
    "I am a vegetarian.": "Soy vegetariano/vegetariana.",
    "The check, please.": "La cuenta, por favor.",
    "Water, please.": "Agua, por favor."
  }
}

const lvl2 = {
  "Advanced Greetings and Social Interactions": {
    "How have you been?": "Â¿CÃ³mo has estado?",
    "What have you been up to?": "Â¿QuÃ© has estado haciendo?",
    "Long time no see.": "CuÃ¡nto tiempo sin verte.",
    "It's a pleasure to meet you.": "Es un placer conocerte.",
    "See you later.": "Nos vemos mÃ¡s tarde.",
    "Take care.": "CuÃ­date."
  },
  "Complex Questions and Answers": {
    "How was your day?": "Â¿CÃ³mo estuvo tu dÃ­a?",
    "Can you explain that to me?": "Â¿Puedes explicÃ¡rmelo?",
    "What do you think about it?": "Â¿QuÃ© piensas al respecto?",
    "Why did you choose that?": "Â¿Por quÃ© elegiste eso?",
    "What are your plans for the weekend?": "Â¿CuÃ¡les son tus planes para el fin de semana?",
    "How do you feel about it?": "Â¿CÃ³mo te sientes al respecto?",
    "Can you speak more slowly?": "Â¿Puedes hablar mÃ¡s despacio?",
    "Do you have any recommendations?": "Â¿Tienes alguna recomendaciÃ³n?",
    "Could you give me some advice?": "Â¿PodrÃ­as darme algÃºn consejo?",
    "What's the difference between...?": "Â¿CuÃ¡l es la diferencia entre...?"
  },
  "Polite Requests and Offers": {
    "Could you please help me with this?": "Â¿PodrÃ­as ayudarme con esto, por favor?",
    "Would you like to join us?": "Â¿Te gustarÃ­a unirte a nosotros?",
    "May I ask you a favor?": "Â¿Puedo pedirte un favor?",
    "Would you mind closing the door?": "Â¿Te importarÃ­a cerrar la puerta?",
    "Can I offer you something to drink?": "Â¿Te puedo ofrecer algo de beber?",
    "Could you lend me a hand?": "Â¿PodrÃ­as echarme una mano?"
  },
  "Describing People and Things": {
    "She is very kind and helpful.": "Ella es muy amable y servicial.",
    "This place is absolutely stunning.": "Este lugar es absolutamente impresionante.",
    "He seems a bit reserved.": "Ã‰l parece un poco reservado.",
    "The book is fascinating and insightful.": "El libro es fascinante y perspicaz.",
    "It's a small, cozy restaurant.": "Es un restaurante pequeÃ±o y acogedor.",
    "They are hardworking and dedicated.": "Ellos son trabajadores y dedicados."
  },
  "Expressing Feelings and Emotions": {
    "I am really excited about this.": "Estoy muy emocionado/emocionada por esto.",
    "I feel a bit nervous.": "Me siento un poco nervioso/nerviosa.",
    "I'm disappointed with the results.": "Estoy decepcionado/decepcionada con los resultados.",
    "This makes me really happy.": "Esto me hace muy feliz.",
    "I'm worried about the situation.": "Estoy preocupado/preocupada por la situaciÃ³n.",
    "I feel relieved.": "Me siento aliviado/aliviada."
  },
  "Time and Scheduling": {
    "What time is convenient for you?": "Â¿A quÃ© hora te conviene?",
    "Could we reschedule our meeting?": "Â¿PodrÃ­amos reprogramar nuestra reuniÃ³n?",
    "Let's meet at 10 o'clock.": "ReunÃ¡monos a las 10 en punto.",
    "I will be available tomorrow afternoon.": "EstarÃ© disponible maÃ±ana por la tarde.",
    "Can you confirm the time?": "Â¿Puedes confirmar la hora?",
    "How long will the meeting last?": "Â¿CuÃ¡nto durarÃ¡ la reuniÃ³n?"
  },
  "Shopping and Negotiation": {
    "Do you have this in a different size?": "Â¿Tienen esto en otro tamaÃ±o?",
    "Is there a warranty on this product?": "Â¿Hay garantÃ­a para este producto?",
    "I am looking for something specific.": "Estoy buscando algo especÃ­fico.",
    "Could you offer a better price?": "Â¿PodrÃ­as ofrecerme un mejor precio?",
    "Can I return this if it doesn't fit?": "Â¿Puedo devolver esto si no me queda?",
    "Is there a discount for bulk purchases?": "Â¿Hay descuento para compras al por mayor?"
  },
  "Dining Out and Food Preferences": {
    "Could we get separate checks?": "Â¿PodrÃ­amos tener cuentas separadas?",
    "Is there a vegan option?": "Â¿Hay opciÃ³n vegana?",
    "I would like my steak medium rare.": "Quisiera mi bistec tÃ©rmino medio.",
    "Can I have a little less salt, please?": "Â¿PodrÃ­a tener un poco menos de sal, por favor?",
    "Is this dish gluten-free?": "Â¿Este plato es sin gluten?",
    "Could I see the dessert menu?": "Â¿PodrÃ­a ver el menÃº de postres?"
  },
  "Travel and Transportation": {
    "How long is the flight?": "Â¿CuÃ¡nto dura el vuelo?",
    "Could you recommend a good hotel?": "Â¿PodrÃ­as recomendarme un buen hotel?",
    "How do I get to the train station?": "Â¿CÃ³mo llego a la estaciÃ³n de tren?",
    "Is there a shuttle service available?": "Â¿Hay servicio de transporte disponible?",
    "What is the best way to get there?": "Â¿CuÃ¡l es la mejor manera de llegar ahÃ­?",
    "Can you book a taxi for me?": "Â¿Puedes reservarme un taxi?"
  },
  "Health and Emergencies": {
    "I need to see a doctor.": "Necesito ver a un mÃ©dico.",
    "Where is the nearest hospital?": "Â¿DÃ³nde estÃ¡ el hospital mÃ¡s cercano?",
    "I am allergic to penicillin.": "Soy alÃ©rgico/alÃ©rgica a la penicilina.",
    "Could you call an ambulance?": "Â¿PodrÃ­as llamar a una ambulancia?",
    "I have a prescription to fill.": "Tengo una receta para surtir.",
    "I need to buy some painkillers.": "Necesito comprar analgÃ©sicos."
  },
  "Weather and Nature": {
    "What will the weather be like tomorrow?": "Â¿CÃ³mo estarÃ¡ el tiempo maÃ±ana?",
    "It's going to rain later today.": "Va a llover mÃ¡s tarde hoy.",
    "The temperature is dropping quickly.": "La temperatura estÃ¡ bajando rÃ¡pidamente.",
    "It's a beautiful day outside.": "Es un dÃ­a hermoso afuera.",
    "There is a storm approaching.": "Se aproxima una tormenta.",
    "The sunset is breathtaking.": "El atardecer es impresionante."
  },
  "Technology and Internet": {
    "Can you help me with my computer?": "Â¿Puedes ayudarme con mi computadora?",
    "What is the Wi-Fi password?": "Â¿CuÃ¡l es la contraseÃ±a del Wi-Fi?",
    "My phone is not working properly.": "Mi telÃ©fono no estÃ¡ funcionando bien.",
    "Can I use your charger?": "Â¿Puedo usar tu cargador?",
    "How do I connect to the internet?": "Â¿CÃ³mo me conecto a internet?",
    "Is there a nearby internet cafÃ©?": "Â¿Hay un cafÃ© internet cerca?"
  }
};

const lvl3 = {
  "Professional Communication": {
    "I'm interested in your professional opinion.": "Me interesa tu opiniÃ³n profesional.",
    "Could you elaborate on that point?": "Â¿PodrÃ­as ampliar ese punto?",
    "Let's schedule a follow-up meeting.": "Programemos una reuniÃ³n de seguimiento.",
    "We need to revise our strategy.": "Necesitamos revisar nuestra estrategia.",
    "What is the projected ROI?": "Â¿CuÃ¡l es el retorno de la inversiÃ³n proyectado?",
    "Let's finalize the details.": "Finalicemos los detalles."
  },
  "Cultural Understanding": {
    "Could you explain this cultural tradition?": "Â¿PodrÃ­as explicar esta tradiciÃ³n cultural?",
    "What are the cultural norms in this situation?": "Â¿CuÃ¡les son las normas culturales en esta situaciÃ³n?",
    "It's important to respect cultural differences.": "Es importante respetar las diferencias culturales.",
    "Let's embrace diversity.": "Aceptemos la diversidad.",
    "I appreciate learning about your culture.": "Aprecio aprender sobre tu cultura.",
    "Understanding local customs is crucial.": "Entender las costumbres locales es crucial."
  },
  "Legal and Business Terms": {
    "What are the legal implications of this decision?": "Â¿CuÃ¡les son las implicaciones legales de esta decisiÃ³n?",
    "We need to review the contract thoroughly.": "Necesitamos revisar el contrato detenidamente.",
    "Could you provide legal counsel on this matter?": "Â¿PodrÃ­as proporcionar asesorÃ­a legal sobre este asunto?",
    "Let's proceed with due diligence.": "Procedamos con diligencia debida.",
    "I recommend consulting with our legal team.": "Recomiendo consultar con nuestro equipo legal.",
    "This falls under intellectual property rights.": "Esto entra dentro de los derechos de propiedad intelectual."
  },
  "Technical and Scientific Language": {
    "What are the technical specifications?": "Â¿CuÃ¡les son las especificaciones tÃ©cnicas?",
    "Could you explain the scientific basis for this theory?": "Â¿PodrÃ­as explicar la base cientÃ­fica de esta teorÃ­a?",
    "Let's conduct a feasibility study.": "Realicemos un estudio de viabilidad.",
    "We need to analyze the data comprehensively.": "Necesitamos analizar los datos de manera exhaustiva.",
    "What is the technological advancement in this field?": "Â¿CuÃ¡l es el avance tecnolÃ³gico en este campo?",
    "This requires advanced computational skills.": "Esto requiere habilidades computacionales avanzadas."
  },
  "Art and Literature Discussions": {
    "What is the artistic inspiration behind this piece?": "Â¿CuÃ¡l es la inspiraciÃ³n artÃ­stica detrÃ¡s de esta obra?",
    "Could you interpret the symbolism in this painting?": "Â¿PodrÃ­as interpretar el simbolismo en esta pintura?",
    "Let's analyze the narrative structure of this novel.": "Analicemos la estructura narrativa de esta novela.",
    "What are the prevailing themes in contemporary art?": "Â¿CuÃ¡les son los temas predominantes en el arte contemporÃ¡neo?",
    "I admire the craftsmanship of this sculpture.": "Admiro la artesanÃ­a de esta escultura.",
    "This literary work has profound philosophical implications.": "Esta obra literaria tiene profundas implicaciones filosÃ³ficas."
  },
  "Environmental and Sustainability Discussions": {
    "What are the environmental ramifications of this project?": "Â¿CuÃ¡les son las ramificaciones ambientales de este proyecto?",
    "Let's promote eco-friendly practices.": "Promovamos prÃ¡cticas respetuosas con el medio ambiente.",
    "Could you discuss renewable energy solutions?": "Â¿PodrÃ­as discutir soluciones de energÃ­a renovable?",
    "What is the carbon footprint of this manufacturing process?": "Â¿CuÃ¡l es la huella de carbono de este proceso de fabricaciÃ³n?",
    "I support initiatives for biodiversity conservation.": "Apoyo las iniciativas para la conservaciÃ³n de la biodiversidad.",
    "It's crucial to address climate change issues.": "Es crucial abordar los problemas del cambio climÃ¡tico."
  },
  "Advanced Medical and Health Terms": {
    "What are the therapeutic benefits of this treatment?": "Â¿CuÃ¡les son los beneficios terapÃ©uticos de este tratamiento?",
    "Let's discuss the prognosis of the patient.": "Discutamos el pronÃ³stico del paciente.",
    "Could you explain the pharmacological mechanism?": "Â¿PodrÃ­as explicar el mecanismo farmacolÃ³gico?",
    "What are the ethical considerations in medical research?": "Â¿CuÃ¡les son las consideraciones Ã©ticas en la investigaciÃ³n mÃ©dica?",
    "I advocate for mental health awareness.": "Abogo por la conciencia de la salud mental.",
    "This requires expertise in epidemiology.": "Esto requiere experiencia en epidemiologÃ­a."
  }
};

const lvl4 = {
  "Advanced Business and Management": {
    "What are the key performance indicators (KPIs) for this project?": "Â¿CuÃ¡les son los indicadores clave de rendimiento (KPI) para este proyecto?",
    "Let's discuss the strategic implementation of our marketing plan.": "Hablemos sobre la implementaciÃ³n estratÃ©gica de nuestro plan de marketing.",
    "What are the implications of global supply chain disruptions on manufacturing?": "Â¿CuÃ¡les son las implicaciones de las interrupciones en la cadena de suministro global en la manufactura?",
    "Could you analyze the feasibility study for this new product launch?": "Â¿PodrÃ­as analizar el estudio de viabilidad para el lanzamiento de este nuevo producto?",
    "Let's brainstorm ideas for enhancing customer engagement and retention.": "Vamos a generar ideas para mejorar el compromiso y retenciÃ³n de clientes.",
    "This company needs to streamline its operational processes to improve efficiency.": "Esta empresa necesita optimizar sus procesos operativos para mejorar la eficiencia."
  },
  "Advanced Academic and Research": {
    "What methodologies are appropriate for this interdisciplinary research study?": "Â¿QuÃ© metodologÃ­as son apropiadas para este estudio de investigaciÃ³n interdisciplinario?",
    "Let's delve into the theoretical framework of quantum physics.": "Profundicemos en el marco teÃ³rico de la fÃ­sica cuÃ¡ntica.",
    "Could you elucidate the findings of your empirical research?": "Â¿PodrÃ­as elucidar los hallazgos de tu investigaciÃ³n empÃ­rica?",
    "What are the ethical considerations in conducting social science experiments?": "Â¿CuÃ¡les son las consideraciones Ã©ticas en la realizaciÃ³n de experimentos en ciencias sociales?",
    "Let's analyze the implications of this mathematical model in economic forecasting.": "Analicemos las implicaciones de este modelo matemÃ¡tico en la predicciÃ³n econÃ³mica.",
    "This paper proposes a novel approach to addressing climate change mitigation strategies.": "Este documento propone un enfoque novedoso para abordar estrategias de mitigaciÃ³n del cambio climÃ¡tico."
  },
  "Advanced Legal and Political": {
    "What are the constitutional implications of this court ruling?": "Â¿CuÃ¡les son las implicaciones constitucionales de esta decisiÃ³n judicial?",
    "Let's examine the geopolitical factors influencing international trade agreements.": "Examinemos los factores geopolÃ­ticos que influyen en los acuerdos comerciales internacionales.",
    "Could you elaborate on the legislative amendments proposed in the recent session?": "Â¿PodrÃ­as ampliar sobre las enmiendas legislativas propuestas en la sesiÃ³n reciente?",
    "What is the judicial precedent for cases involving intellectual property disputes?": "Â¿CuÃ¡l es el precedente judicial para casos que involucran disputas de propiedad intelectual?",
    "Let's discuss the ramifications of this policy decision on environmental conservation efforts.": "Hablemos sobre las ramificaciones de esta decisiÃ³n polÃ­tica en los esfuerzos de conservaciÃ³n ambiental.",
    "This diplomatic negotiation requires a nuanced understanding of international relations.": "Esta negociaciÃ³n diplomÃ¡tica requiere una comprensiÃ³n matizada de las relaciones internacionales."
  }
};

const lvl5 = {
  "Advanced Scientific and Technical": {
    "Quantum entanglement theory": "TeorÃ­a de la entrelazaciÃ³n cuÃ¡ntica",
    "Neurodegenerative diseases research": "InvestigaciÃ³n de enfermedades neurodegenerativas",
    "Genetic engineering and biotechnology advancements": "Avances en ingenierÃ­a genÃ©tica y biotecnologÃ­a",
    "Artificial intelligence and machine learning algorithms": "Algoritmos de inteligencia artificial y aprendizaje automÃ¡tico",
    "Climate change mitigation strategies": "Estrategias de mitigaciÃ³n del cambio climÃ¡tico",
    "Nanotechnology applications in medicine": "Aplicaciones de la nanotecnologÃ­a en medicina"
  },
  "Advanced Economic and Financial": {
    "Macroeconomic indicators and fiscal policy": "Indicadores macroeconÃ³micos y polÃ­tica fiscal",
    "Derivatives trading strategies": "Estrategias de negociaciÃ³n de derivados",
    "Corporate finance and capital restructuring": "Finanzas corporativas y reestructuraciÃ³n de capital",
    "Global economic recession analysis": "AnÃ¡lisis de la recesiÃ³n econÃ³mica global",
    "Cryptocurrency market trends and blockchain technology": "Tendencias del mercado de criptomonedas y tecnologÃ­a blockchain",
    "Sustainable development finance models": "Modelos de financiamiento para el desarrollo sostenible"
  },
  "Advanced Medical and Healthcare": {
    "Precision medicine and personalized healthcare": "Medicina de precisiÃ³n y atenciÃ³n mÃ©dica personalizada",
    "Neurosurgical innovations and procedures": "Innovaciones y procedimientos neuroquirÃºrgicos",
    "Public health epidemiology and disease surveillance": "EpidemiologÃ­a de salud pÃºblica y vigilancia de enfermedades",
    "Biomedical engineering advancements": "Avances en ingenierÃ­a biomÃ©dica",
    "Pharmaceutical regulatory compliance": "Cumplimiento normativo farmacÃ©utico",
    "Healthcare informatics and digital health technologies": "InformÃ¡tica en salud y tecnologÃ­as digitales de salud"
  },
  "Advanced Legal and International Relations": {
    "International human rights law and humanitarian interventions": "Derecho internacional de los derechos humanos e intervenciones humanitarias",
    "War crimes tribunal and international justice": "Tribunal de crÃ­menes de guerra y justicia internacional",
    "Intellectual property rights and global trade agreements": "Derechos de propiedad intelectual y acuerdos comerciales globales",
    "Diplomatic negotiations and multilateral diplomacy": "Negociaciones diplomÃ¡ticas y diplomacia multilateral",
    "Environmental law and sustainable development treaties": "Derecho ambiental y tratados de desarrollo sostenible",
    "International trade disputes and arbitration": "Disputas comerciales internacionales y arbitraje"
  }
};





var score = 0;
let currentSentence = { spanishSentence: "", englishTranslation: "" };
let isRunning = false; // Flag to check if the game is running
let gameOver = false; 

var correct = new Audio("./soundEffects/correct.mp3");
var incorrect = new Audio("./soundEffects/incorrect.mp3");




// Function to get a random sentence from the dictionary
function getRandomSentence() {
    const categories = Object.keys(lvl1);
    const randomCategory = categories[Math.floor(Math.random() * categories.length)];
    const phrases = lvl1[randomCategory];
    const keys = Object.keys(phrases);
    const randomKey = keys[Math.floor(Math.random() * keys.length)];
    const spanishSentence = phrases[randomKey];
    const englishTranslation = randomKey;

    return { spanishSentence, englishTranslation };
}

$('.ai-button').click(function() { 
  $('.api-response').toggleClass('api-response-show');

  
});


// Click event for submit button
$('.button').click(function() {
    $('.scoreboard').removeClass("scoreboard-show"); 
    if (!isRunning) {
        $('.api-response').html("Please start the game first!");
        return;
    }
    
    var userInput = $('.input').val();
    const apiRequestMessage = `Is "${userInput}" the English translation of "${currentSentence.spanishSentence}"?`;

    // Display loading message
    $('.api-response').html("Loading AI response...ðŸ”ƒ");

    $.ajax({
        url: '/message',
        type: 'POST',
        contentType: 'application/json',
        data: JSON.stringify({ message: apiRequestMessage }),
        success: function(data) {
            // Check if the response indicates the translation is correct
            if (data.response.toLowerCase().includes('correct')) {
                score += 1;
                correct.play();
                // Generate a new random sentence
                currentSentence = getRandomSentence();
                $('.output').html(currentSentence.spanishSentence);
                $('.input').val(""); // Clear the input field
            } else { 
                incorrect.play(); 
                $('.input').val(""); // Clear the input field
            }

            // Update the score and display the API response
            $('.score').html("SCORE: " + score);
            $('.api-response').html(data.response);
        },
        error: function(error) {
            console.error('Error:', error);
            $('.api-response').html("An error occurred. Please try again.");
        }
    });
});

// Click event for start button
$('.start-button').click(function() {
    if (isRunning) return; // Prevent further clicks if the game is running

    // Generate and display a new random sentence
    currentSentence = getRandomSentence();
    $('.output').html(currentSentence.spanishSentence);
    isRunning = true; // Set the running flag
    $(this).addClass("start-button-pressed");
    $(this).prop('disabled', true); // Disable the button

    let timeLeft = 60; // Initial time in seconds

    // Function to format the time in "TIME: MM:SS" format
    function formatTime(seconds) {
        let minutes = Math.floor(seconds / 60); // Calculate minutes
        let remainingSeconds = seconds % 60; // Calculate remaining seconds
        return `TIME: ${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`; // Format as "TIME: M:SS"
    }

    // Display initial formatted time
    $('.time').html(formatTime(timeLeft));

    // Function to update the time every second
    let countdown = setInterval(function() {
        timeLeft--; // Decrease time by one second
        $('.time').html(formatTime(timeLeft)); // Update the displayed time

        if (timeLeft <= 0) {
            $('.scoreboard').addClass("scoreboard-show"); 
            $("#final-score").html(score); // Display final score)
            clearInterval(countdown); // Stop the countdown when time is up
            $('.time').html('TIME: 0:00'); // Optionally display "TIME: 0:00"
            isRunning = false; // Reset the running flag
            $('.input').val(""); // Clear the input field
            $('.output').html("Press 'START' para comenzar el TuCan Translate âœ¨"); 
            $(".api-response").html("Â¡Hola! I am tu AI assistant. I'll be helping you con hints y explicaciones en your respuestas. Â¡You got this!ðŸ™Œ"); // Clear the output field
            $('.start-button').prop('disabled', false); // Enable the button again
            $('.start-button').removeClass("start-button-pressed"); // Reset button style
        }
    }, 1000); // Interval of 1 second (1000 milliseconds)
});

$('.final-button').click(function() { 
    $('.scoreboard').removeClass("scoreboard-show"); 
});



// Function to generate a random Spanish sentence
function randomSentence() {
    var flattenedSentences = [];
    for (var category in lvl1) {
        if (lvl1.hasOwnProperty(category)) {
            for (var phrase in lvl1[category]) {
                if (lvl1[category].hasOwnProperty(phrase)) {
                    flattenedSentences.push(lvl1[category][phrase]);
                }
            }
        }
    }

    // Generate a random index
    var randomIndex = Math.floor(Math.random() * flattenedSentences.length);

    // Access the random sentence
    var randomSentence = flattenedSentences[randomIndex];

    return randomSentence;
}

// Function to prepare the API request message
function prepareAPIRequest(userInput) {
    const { spanishSentence, englishTranslation } = getRandomSentence();
    const apiMessage = `Is "${userInput}" the English translation of "${spanishSentence}"?`;
    return apiMessage;
}


function getCookie(name) {
  let cookieArr = document.cookie.split(";");
  for(let i = 0; i < cookieArr.length; i++) {
      let cookiePair = cookieArr[i].split("=");
      if(name == cookiePair[0].trim()) {
          return decodeURIComponent(cookiePair[1]);
      }
  }
  
  return null;
}

language = getCookie('language');
if (language == "Spanish") {
  document.querySelectorAll(".menu").item(0).outerHTML = '\
              <div class="menu"> \
                  <button class="menu-button">MenÃº</button> \
                  <ul class="menu-items"><li><a href="/">PÃ¡gina Principal</a></li> \
                  <li><a href="/flight">Tucan Volar</a></li> \
                  <li><a href="/draw">Tucan Dibujar</a></li> \
                  <li><a href="/speak">Tucan Hablar</a></li> \
                  <li><a href="/write">Tucan Traducir</a></li> \
                  <li><a href="javascript:void(0);" onclick="return changeLanguage()">Change Language</a></li> \
                  <li><a href="javascript:void(0);" onclick="return signOut()">Desconectar</a></li></ul> \
              </div>';
}